<!DOCTYPE html>
<html>
	<head>
		<title>WRS 2.0</title>
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
	</head>
	<body>
		<div id="status">GUI is loading...</div>
		<canvas id="screen" width="100" height="100"></canvas>
		<script src="//code.jquery.com/jquery.min.js" type="text/javascript"></script>
		<script type="text/javascript">

$(function() {

	/**
	 * Changes the status message
	 */
	var status = function(message) {
		$('#status').text(message);
	};

	/**
	 * Will load configuration from backend
	 */
	var configuration = function(cb) {
		$.getJSON('/configuration', function(data) {
			console.log(data);
			cb(data);
		});
	};



	/**
	 * Initializing GUI
	 */
	var screen = $('#screen');

	status('Loading configuration...');
	configuration(function(config) {
		status('Configuration loaded');
		screen.width(config['game-zone'] * 2);
		screen.height(config['game-zone'] * 2);

		var context = screen[0].getContext('2d');
		context.fillStyle = 'rgb(255, 0, 255)';
		context.fillRect(0, 0, canvas.width, canvas.height);
	});
});

		</script>
	</body>
</html>
